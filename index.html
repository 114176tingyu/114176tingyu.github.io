<!DOCTYPE html>
<html lang="zh-Hant">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>é¤µå¸•æ°ç‹—</title>
<style>
    body {
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100vh;
        background: #f6f8ff;
        font-family: "Noto Sans TC", sans-serif;
    }

    .game {
        display: flex;
        gap: 40px;
        align-items: center;
    }

    /* ç±ƒå­ */
    .basket {
        width: 180px;
        padding: 15px;
        background: #f0d5a1;
        border: 4px solid #b8874b;
        border-radius: 15px;
        text-align: center;
    }

    .item {
        width: 80px;
        margin: 10px auto;
        cursor: grab;
        user-select: none;
    }

    /* å¸•æ°ç‹— */
    #pachi {
        width: 300px;
        transition: transform .3s, filter .3s;
    }

    .mouth-open {
        transform: scale(1.08);
        filter: brightness(1.15);
    }

    /* æ‹–æ›³ä¸­ç‰©ä»¶ */
    .dragging {
        position: absolute;
        pointer-events: none;
        transform: translate(-50%, -50%);
        width: 80px;
    }
</style>
</head>
<body>

<div class="game">

    <!-- ç±ƒå­ -->
    <div class="basket">
        <h3>ğŸ§º ç±ƒå­</h3>
        <img class="item" data-type="carrot" src="https://raw.githubusercontent.com/happyfunch/img-assets/main/carrot.png">
        <img class="item" data-type="banana" src="https://raw.githubusercontent.com/happyfunch/img-assets/main/banana.png">
    </div>

    <!-- å¸•æ°ç‹— -->
    <img id="pachi" src="https://raw.githubusercontent.com/happyfunch/img-assets/main/pachi.png">
</div>

<script>
    const pachi = document.getElementById("pachi");
    const basket = document.querySelector(".basket");

    let draggingItem = null;
    let originalItem = null;

    // è£œè²¨
    function spawnFood(type) {
        const img = document.createElement("img");
        img.className = "item";
        img.dataset.type = type;

        img.src = type === "carrot"
            ? "https://raw.githubusercontent.com/happyfunch/img-assets/main/carrot.png"
            : "https://raw.githubusercontent.com/happyfunch/img-assets/main/banana.png";

        basket.appendChild(img);
        makeDraggable(img);
    }

    // è®“ç‰©ä»¶å¯æ‹–æ›³
    function makeDraggable(item) {
        item.addEventListener("mousedown", (e) => {
            originalItem = item;

            draggingItem = item.cloneNode(true);
            draggingItem.classList.add("dragging");
            document.body.appendChild(draggingItem);

            item.style.opacity = 0.3; // åŸç‰©è®Šæ·¡

            moveDragged(e);
        });
    }

    function moveDragged(e) {
        if (!draggingItem) return;
        draggingItem.style.left = e.pageX + "px";
        draggingItem.style.top = e.pageY + "px";
    }

    document.addEventListener("mousemove", moveDragged);

    document.addEventListener("mouseup", (e) => {
        if (!draggingItem) return;

